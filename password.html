<!DOCTYPE html>

<!-- set the default language as English -->
<html lang="en">

<head>

	<meta charset="utf-8">

	<!-- referrer policy -->
	<meta http-equiv="Referrer-Policy" content="no-referrer">
	
	<link href="css/bootstrap.min.css" rel="stylesheet">

	<style>
		.form-container {
			background-color: #F8F8F8;
			border: 1px #F0F0F0 solid;
			padding: 10px;
			margin-bottom: 20px;
		}

		.unsupported-browser-alert {
			display: none;
		}
	</style>

	<!-- title -->
	<title>Secure Password Generator | Privacy Tools</title>

	<!-- icons -->
	<link rel="apple-touch-icon" sizes="57x57" href="img/favicons/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="img/favicons/apple-touch-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="img/favicons/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="img/favicons/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="img/favicons/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="img/favicons/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="img/favicons/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="img/favicons/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="img/favicons/apple-touch-icon-180x180.png">
	<link rel="icon" type="image/png" href="img/favicons/favicon-32x32.png" sizes="32x32">
	<link rel="icon" type="image/png" href="img/favicons/android-chrome-192x192.png" sizes="192x192">
	<link rel="icon" type="image/png" href="img/favicons/favicon-96x96.png" sizes="96x96">
	<link rel="icon" type="image/png" href="img/favicons/favicon-16x16.png" sizes="16x16">
	<link rel="manifest" href="img/favicons/manifest.json">
	<link rel="shortcut icon" href="img/favicons/favicon.ico">
	<meta name="msapplication-TileColor" content="#da532c">
	<meta name="msapplication-TileImage" content="img/favicons/mstile-144x144.png">
	<meta name="msapplication-config" content="img/favicons/browserconfig.xml">
	<meta name="theme-color" content="#ffffff">

	<!-- css stylesheets -->
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/bootstrap-theme.min.css" rel="stylesheet">
	<link href="css/font-awesome.min.css" rel="stylesheet">
	<link href="css/custom.css?v=1" rel="stylesheet">

</head>

<body>

	<!-- navigation starts -->
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			</div>

			<div id="navbar" class="navbar-collapse collapse">

				<ul class="nav navbar-nav">
					
					<!-- home icon in the navigation bar -->
					<li><a href="index.html"><span class="glyphicon glyphicon-home"></span> Home</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<!-- navigation ends here -->

	<div class="container theme-showcase" role="main">

		<div class="jumbotron">
			<!-- header just below the navigation bar -->
			<h1><img src="img/layout/logo_smaller.png" class="img-responsive" alt="privacytools.io"></h1>
			<h3>Use this tool to generate a strong and random password.</h3>
			<!-- end header just below the navigation bar -->
		</div>

		<a class="anchor" name="generator"></a>
		<div class="page-header">
			<h1><a href="#generator" class="titleanchor"><span class="glyphicon glyphicon-link"></span></a> Generate a password</h1>
		</div>

		<noscript>
			<div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> <strong>Hold on.</strong> It looks like you have disabled JavaScript. Unfortunately, this tool will not work until you enable it.</div>
		</noscript>

		<div class="alert alert-danger unsupported-browser-alert" id="unsupported-browser-alert">
			<p>
				<span class="glyphicon glyphicon-warning-sign"></span> <strong>Hold on.</strong> It looks like you are using an <em>unsupported browser</em> (probably Internet Explorer...). Unfortunately, this tool will not work until you upgrade your browser. Sorry for any inconvenience caused.
			</p>
		</div>

		<div class="alert alert-info" role="alert">
			<p>The available characters in each set are user friendly - there are no ambiguous characters such as i, l, 1, o, 0, etc. but you can choose to include them from the Advanced Options. Password generation is done on the client-side meaning no one has access to the passwords you generate here.</p>
		</div>

		<div class="alert alert-danger" id="errorMsg" style="display:none;">
			<p><strong>The value you've typed in the field is not valid!</strong> You can generate a password between 6 and 100 characters long, the field cannot be empty and it must contain numbers only.</p>
		</div>
		
		<div class="alert alert-warning" id="chkBtnErrorMsg" style="display:none;">
			<p><strong>Whoops!</strong> You unselected all the options. I don't know what characters you want. Click on the button entitled "Advanced Options" and enable some options then try again.</p>
		</div>

		<br>

	<div class="form-container clearfix ">
      <div class="form-group">
        <label>Generated password:</label>
        <div class="input-group">
        <input type="text" class="form-control" id="password-input" onclick="this.focus();this.select()" readonly>
        <span class="input-group-btn">
          <button class="btn btn-default" id="generate-password-button" type="button">
            <span class="glyphicon glyphicon-refresh"></span> Generate Another
          </button>
        </span>
      </div>
    </div>
      
	  <div class="form-group">
	  <label>Password length:</label>
	  <input type="number" min="6" max="100" class="form-control" id="password-length" placeholder="Type in a number between 6 and 100" value="32">
      </div>
	  <div class="form-group collapse" id="advancedOptions">
        <label>
          <input type="checkbox" id="include-uppercase-chars-checkbox" checked> Upper-case
        </label>
        <label>
          <input type="checkbox" id="include-lowercase-chars-checkbox" checked> Lower-case
        </label>
        <label>
          <input type="checkbox" id="include-numbers-checkbox" checked> Numbers
        </label>
        <label>
          <input type="checkbox" id="include-special-chars-checkbox"> Special
        </label>
		<label>
		  <input type="checkbox" id="include-brackets-checkbox"> Brackets
		</label>
		<label>
		  <input type="checkbox" id="include-ambiguous-chars-checkbox"> Ambiguous Characters
		</label>
      </div>
      <a class="btn btn-default pull-right" data-toggle="collapse" href="#advancedOptions">
        <span class="glyphicon glyphicon-cog"></span> Advanced Options</a>
    </div>
    <p>Source Code: <a href="https://github.com/privacytoolsIO/privacytools.io/blob/master/password.html" target="_blank">GitHub</a></p>
  </div>
  
  <script src="js/jquery-1.11.2.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  
  <script>
	$( "#password-length" ).keyup(function() {
		if($('#password-length').val()<6 || $('#password-length').val()>100 ){
			document.getElementById("password-length").style.color = "red";
			$('#errorMsg').show();
	}
		else{
			document.getElementById("password-length").style.color = "black";
			$('#errorMsg').hide();
		}
	});
  </script>
  <script>
    var passwordGenerator = (function() {
      var generateRandomNum = function(max) {
        var crypto = window.crypto || window.msCrypto;
        if (!crypto) {
          throw new Error('Unsupported Browser.');
        }
        // http://stackoverflow.com/a/18230432
        var array = new Uint8Array(1);
        crypto.getRandomValues(array);
        var range = max + 1;
        var max_range = 256;
        if (array[0] >= Math.floor(max_range / range) * range)
          return generateRandomNum(max);
        return (array[0] % range);
      };
      var generatePassword = function(options) {
        var uppercase = "ABCDEFGHJKMNPQRSTUVWXYZ";
        var lowercase = "abcdefghjkmnpqrstuvwxyz";
        var numbers = "23456789";
        var special = "!@#$%&*?";
		var brackets = "()[]{}<>";
		var ambiguous = "1IiLlOo0";
        var candidates = '';
        if (options.includeUppercaseChars) {
          candidates += uppercase;
        }
        if (options.includeLowercaseChars) {
          candidates += lowercase;
        }
        if (options.includeNumbers) {
          candidates += numbers;
        }
        if (options.includeSpecialChars) {
          candidates += special;
        }
		if (options.includeBrackets) {
		  candidates += brackets;
		}
		if (options.includeAmbiguousChars) {
		  candidates += ambiguous;
		}
        var password = "";
        for (var i = 0; i < options.passwordLength; i++) {
          var randomNum = generateRandomNum(candidates.length);
          password += candidates.substring(randomNum, randomNum + 1);
        }
        return password;
      };
      return {
        generatePassword: generatePassword
      };
    })();
    (function() {
      'use strict';
      function getOptions() {
        return {
          passwordLength: $("#password-length").val(),
          includeUppercaseChars: $("#include-uppercase-chars-checkbox").is(":checked"),
          includeLowercaseChars: $("#include-lowercase-chars-checkbox").is(":checked"),
          includeNumbers: $("#include-numbers-checkbox").is(":checked"),
          includeSpecialChars: $("#include-special-chars-checkbox").is(":checked"),
		  includeBrackets: $("#include-brackets-checkbox").is(":checked"),
		  includeAmbiguousChars: $("#include-ambiguous-chars-checkbox").is(":checked"),
        };
      }
      function outputGeneratedPassword() {
		$("#chkBtnErrorMsg").hide();
		if($('#password-length').val()<6 || $('#password-length').val()>100 ){
			return;
		}
		var password;
        try {
          password = passwordGenerator.generatePassword(getOptions());
        } catch (error) {
          $("#unsupported-browser-alert").show();
          return;
        }
        if (password === '') {
          $("#chkBtnErrorMsg").show();
          return;
        }
        $("#password-input").val(password);
      }
      $(function() {
		outputGeneratedPassword();
        $("#generate-password-button").click(outputGeneratedPassword);
      });
    })();
  </script>

</body>

</html>
